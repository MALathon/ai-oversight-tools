import{f as d,a as o,c as be}from"../chunks/B1gL-7lK.js";import{o as ke}from"../chunks/DOE8iBRm.js";import{a3 as xe,Y as t,Z as A,a6 as ye,a as $e,s as J,a4 as Q,$ as Le,g as e,a0 as a,a1 as s,_ as y,a7 as we,a2 as X}from"../chunks/B2ozAt4z.js";import{d as Re,s as l}from"../chunks/cWCuwL6a.js";import{i as q}from"../chunks/Ihk7Vvt8.js";import{e as R,i as C,s as Ce}from"../chunks/D8ej239B.js";import{h as Ie}from"../chunks/CvM5vjvj.js";import{s as De}from"../chunks/Bw5DiEUF.js";import{s as E}from"../chunks/itcv0iKE.js";import{b as B}from"../chunks/CVSg-jCF.js";var Me=d('<div class="loading svelte-isfjj4">Loading risk matrix...</div>'),Se=d('<div class="cell header svelte-isfjj4"> </div>'),Ae=d('<button><span class="risk-level svelte-isfjj4"> </span> <span class="oversight svelte-isfjj4"> </span></button>'),qe=d('<div class="cell header row-header svelte-isfjj4"> </div> <!>',1),Ee=d('<span class="cfr-badge svelte-isfjj4"> </span>'),Pe=d('<div class="cfr-refs svelte-isfjj4"></div>'),Ue=d('<div class="subdomain-card svelte-isfjj4"><div class="subdomain-header svelte-isfjj4"><span class="code svelte-isfjj4"> </span> <span class="name svelte-isfjj4"> </span></div> <p class="description svelte-isfjj4"> </p> <!></div>'),Ve=d('<div class="details-panel svelte-isfjj4"><div class="details-header svelte-isfjj4"><h2 class="svelte-isfjj4"> </h2> <div class="badges svelte-isfjj4"><span class="badge risk svelte-isfjj4"> </span> <span class="badge oversight svelte-isfjj4"> </span></div></div> <div class="oversight-description svelte-isfjj4"><strong>Oversight Level:</strong> </div> <h3 class="svelte-isfjj4">Applicable Risk Subdomains</h3> <div class="subdomains svelte-isfjj4"></div> <div class="action-hint svelte-isfjj4"><a class="svelte-isfjj4">→ View full reviewer checklist for these risks</a></div></div>'),Fe=d('<div class="matrix-container svelte-isfjj4"><div class="matrix svelte-isfjj4"><div class="cell header corner svelte-isfjj4"></div> <!> <!></div> <div class="x-axis-label svelte-isfjj4">Development Phase →</div> <div class="y-axis-label svelte-isfjj4">← Patient Impact</div></div> <!> <div class="legend svelte-isfjj4"><h3 class="svelte-isfjj4">Risk Levels</h3> <div class="legend-items svelte-isfjj4"><div class="legend-item svelte-isfjj4"><span class="dot svelte-isfjj4" style="background: #22c55e"></span> Low</div> <div class="legend-item svelte-isfjj4"><span class="dot svelte-isfjj4" style="background: #eab308"></span> Medium</div> <div class="legend-item svelte-isfjj4"><span class="dot svelte-isfjj4" style="background: #f97316"></span> High</div></div></div>',1),Ne=d('<div class="page-header svelte-isfjj4"><h1 class="svelte-isfjj4">Risk Assessment Matrix</h1> <p class="svelte-isfjj4">Click any cell to see applicable risk subdomains and oversight requirements</p></div> <!>',1);function Je(ee,se){xe(se,!0);let H=[],K=[],r=Q(null),T=Q(!0);const W={"phase-1":"Discovery","phase-2":"Validation","phase-3":"Clinical/Deployment"},Y={"no-impact":"No Direct Impact",indirect:"Indirect Impact","direct-care":"Direct Care"},ae={minimal:"Expedited administrative review",standard:"Standard IRB review process",enhanced:"Additional safeguards required",full:"Full committee review with ongoing oversight"};ke(async()=>{try{const[i,f]=await Promise.all([fetch(`${B}/data/unified-schema.json`),fetch(`${B}/data/risk-subdomains.json`)]),n=await i.json(),b=await f.json();H=n.riskMatrix.cells,K=b.riskSubdomains}catch(i){console.error("Failed to load data:",i)}finally{J(T,!1)}});function ie(i,f){return H.find(n=>n.phase===i&&n.impact===f)}function te(i){J(r,e(r)?.phase===i.phase&&e(r)?.impact===i.impact?null:i,!0)}function re(i){const n={low:["privacy-breach-2.1","governance-failure-6.5"],medium:["privacy-breach-2.1","unfair-discrimination-1.1","lack-transparency-7.4","governance-failure-6.5"],high:["privacy-breach-2.1","unfair-discrimination-1.1","false-information-3.1","overreliance-5.1","loss-of-agency-5.2","lack-transparency-7.4","governance-failure-6.5","unequal-performance-1.3"]}[i.riskLevel]||[];return K.filter(b=>n.includes(b.id))}var Z=Ne();Ie("isfjj4",i=>{$e(()=>{Le.title="Risk Matrix - AI Oversight Tools"})});var le=t(A(Z),2);{var ve=i=>{var f=Me();o(i,f)},oe=i=>{var f=Fe(),n=A(f),b=a(n),z=t(a(b),2);R(z,16,()=>["phase-1","phase-2","phase-3"],C,(u,p)=>{var v=Se(),j=a(v,!0);s(v),y(()=>l(j,W[p])),o(u,v)});var ne=t(z,2);R(ne,16,()=>["direct-care","indirect","no-impact"],C,(u,p)=>{var v=qe(),j=A(v),P=a(j,!0);s(j);var I=t(j,2);R(I,16,()=>["phase-1","phase-2","phase-3"],C,(k,D)=>{const c=we(()=>ie(D,p));var M=be(),$=A(M);{var U=g=>{var m=Ae();let S;m.__click=()=>te(e(c));var _=a(m),h=a(_,!0);s(_);var x=t(_,2),L=a(x,!0);s(x),s(m),y(w=>{S=Ce(m,1,"cell data svelte-isfjj4",null,S,{selected:e(r)?.phase===D&&e(r)?.impact===p}),E(m,`background-color: ${e(c).color??""}20; border-color: ${e(c).color??""}`),E(_,`color: ${e(c).color??""}`),l(h,w),l(L,e(c).oversightLevel)},[()=>e(c).riskLevel.toUpperCase()]),o(g,m)};q($,g=>{e(c)&&g(U)})}o(k,M)}),y(()=>l(P,Y[p])),o(u,v)}),s(b),X(4),s(n);var ce=t(n,2);{var de=u=>{var p=Ve(),v=a(p),j=a(v),P=a(j);s(j);var I=t(j,2),k=a(I),D=a(k);s(k);var c=t(k,2),M=a(c);s(c),s(I),s(v);var $=t(v,2),U=t(a($));s($);var g=t($,4);R(g,21,()=>re(e(r)),C,(_,h)=>{var x=Ue(),L=a(x),w=a(L),fe=a(w,!0);s(w);var G=t(w,2),pe=a(G,!0);s(G),s(L);var V=t(L,2),je=a(V,!0);s(V);var me=t(V,2);{var he=F=>{var N=Pe();R(N,21,()=>e(h).cfrReferences,C,(_e,ue)=>{var O=Ee(),ge=a(O,!0);s(O),y(()=>l(ge,e(ue))),o(_e,O)}),s(N),o(F,N)};q(me,F=>{e(h).cfrReferences.length>0&&F(he)})}s(x),y(()=>{l(fe,e(h).code),l(pe,e(h).shortName),l(je,e(h).description)}),o(_,x)}),s(g);var m=t(g,2),S=a(m);s(m),s(p),y((_,h)=>{E(v,`border-color: ${e(r).color??""}`),l(P,`${W[e(r).phase]??""} + ${Y[e(r).impact]??""}`),E(k,`background: ${e(r).color??""}`),l(D,`${_??""} RISK`),l(M,`${h??""} REVIEW`),l(U,` ${ae[e(r).oversightLevel]??""}`),De(S,"href",`${B??""}/reviewer`)},[()=>e(r).riskLevel.toUpperCase(),()=>e(r).oversightLevel.toUpperCase()]),o(u,p)};q(ce,u=>{e(r)&&u(de)})}X(2),o(i,f)};q(le,i=>{e(T)?i(ve):i(oe,!1)})}o(ee,Z),ye()}Re(["click"]);export{Je as component};
